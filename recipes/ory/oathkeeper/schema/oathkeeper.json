{
  "$schema": "https://raw.githubusercontent.com/hasura/ndc-rest/refs/heads/main/ndc-rest-schema/jsonschema/ndc-rest-schema.schema.json",
  "settings": {
    "servers": [
      {
        "url": {
          "value": "http://localhost:4456",
          "env": "OATHKEEPER_SERVER_URL"
        }
      }
    ]
  },
  "functions": {
    "oathkeeperGetRule": {
      "request": {
        "url": "/rules/{id}",
        "method": "get",
        "response": {
          "contentType": "application/json"
        }
      },
      "arguments": {
        "id": {
          "type": {
            "name": "String",
            "type": "named"
          },
          "rest": {
            "name": "id",
            "in": "path",
            "schema": {
              "type": [
                "string"
              ]
            }
          }
        }
      },
      "description": "Retrieve a Rule",
      "result_type": {
        "name": "Rule",
        "type": "named"
      }
    },
    "oathkeeperGetWellKnownJSONWebKeys": {
      "request": {
        "url": "/.well-known/jwks.json",
        "method": "get",
        "response": {
          "contentType": "application/json"
        }
      },
      "arguments": {},
      "description": "Lists Cryptographic Keys",
      "result_type": {
        "name": "JsonWebKeySet",
        "type": "named"
      }
    },
    "oathkeeperIsAlive": {
      "request": {
        "url": "/health/alive",
        "method": "get",
        "response": {
          "contentType": "application/json"
        }
      },
      "arguments": {},
      "description": "Check HTTP Server Status",
      "result_type": {
        "name": "OathkeeperIsAliveResult",
        "type": "named"
      }
    },
    "oathkeeperIsReady": {
      "request": {
        "url": "/health/ready",
        "method": "get",
        "response": {
          "contentType": "application/json"
        }
      },
      "arguments": {},
      "description": "Check HTTP Server and Database Status",
      "result_type": {
        "name": "OathkeeperIsReadyResult",
        "type": "named"
      }
    },
    "oathkeeperListRules": {
      "request": {
        "url": "/rules",
        "method": "get",
        "response": {
          "contentType": "application/json"
        }
      },
      "arguments": {
        "limit": {
          "description": "The maximum amount of rules returned.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "Int64",
              "type": "named"
            }
          },
          "rest": {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": [
                "integer"
              ],
              "format": "int64"
            }
          }
        },
        "offset": {
          "description": "The offset from where to start looking.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "Int64",
              "type": "named"
            }
          },
          "rest": {
            "name": "offset",
            "in": "query",
            "schema": {
              "type": [
                "integer"
              ],
              "format": "int64"
            }
          }
        }
      },
      "description": "List All Rules",
      "result_type": {
        "element_type": {
          "name": "Rule",
          "type": "named"
        },
        "type": "array"
      }
    }
  },
  "object_types": {
    "JsonWebKey": {
      "fields": {
        "alg": {
          "description": "The \"alg\" (algorithm) parameter identifies the algorithm intended for\nuse with the key.  The values used should either be registered in the\nIANA \"JSON Web Signature and Encryption Algorithms\" registry\nestablished by [JWA] or be a value that contains a Collision-\nResistant Name.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "crv": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "d": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "dp": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "dq": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "e": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "k": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "kid": {
          "description": "The \"kid\" (key ID) parameter is used to match a specific key.  This\nis used, for instance, to choose among a set of keys within a JWK Set\nduring key rollover.  The structure of the \"kid\" value is\nunspecified.  When \"kid\" values are used within a JWK Set, different\nkeys within the JWK Set SHOULD use distinct \"kid\" values.  (One\nexample in which different keys might use the same \"kid\" value is if\nthey have different \"kty\" (key type) values but are considered to be\nequivalent alternatives by the application using them.)  The \"kid\"\nvalue is a case-sensitive string.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "kty": {
          "description": "The \"kty\" (key type) parameter identifies the cryptographic algorithm\nfamily used with the key, such as \"RSA\" or \"EC\". \"kty\" values should\neither be registered in the IANA \"JSON Web Key Types\" registry\nestablished by [JWA] or be a value that contains a Collision-\nResistant Name.  The \"kty\" value is a case-sensitive string.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "n": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "p": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "q": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "qi": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "use": {
          "description": "The \"use\" (public key use) parameter identifies the intended use of\nthe public key. The \"use\" parameter is employed to indicate whether\na public key is used for encrypting data or verifying the signature\non data. Values are commonly \"sig\" (signature) or \"enc\" (encryption).",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "x": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "x5c": {
          "description": "The \"x5c\" (X.509 certificate chain) parameter contains a chain of one\nor more PKIX certificates [RFC5280].  The certificate chain is\nrepresented as a JSON array of certificate value strings.  Each\nstring in the array is a base64-encoded (Section 4 of [RFC4648] --\nnot base64url-encoded) DER [ITU.X690.1994] PKIX certificate value.\nThe PKIX certificate containing the key value MUST be the first\ncertificate.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "element_type": {
                "name": "String",
                "type": "named"
              },
              "type": "array"
            }
          },
          "rest": {
            "type": [
              "array"
            ],
            "items": {
              "type": [
                "string"
              ]
            }
          }
        },
        "y": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    "JsonWebKeySet": {
      "fields": {
        "keys": {
          "description": "The value of the \"keys\" parameter is an array of JWK values.  By\ndefault, the order of the JWK values within the array does not imply\nan order of preference among them, although applications of JWK Sets\ncan choose to assign a meaning to the order for their purposes, if\ndesired.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "element_type": {
                "name": "JsonWebKey",
                "type": "named"
              },
              "type": "array"
            }
          },
          "rest": {
            "type": [
              "array"
            ]
          }
        }
      }
    },
    "OathkeeperIsAliveResult": {
      "fields": {
        "status": {
          "description": "Always \"ok\".",
          "type": {
            "name": "String",
            "type": "named"
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    "OathkeeperIsReadyResult": {
      "fields": {
        "status": {
          "description": "Always \"ok\".",
          "type": {
            "name": "String",
            "type": "named"
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    "Rule": {
      "fields": {
        "authenticators": {
          "description": "Authenticators is a list of authentication handlers that will try and authenticate the provided credentials.\nAuthenticators are checked iteratively from index 0 to n and if the first authenticator to return a positive\nresult will be the one used.\n\nIf you want the rule to first check a specific authenticator  before \"falling back\" to others, have that authenticator\nas the first item in the array.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "element_type": {
                "name": "RuleHandler",
                "type": "named"
              },
              "type": "array"
            }
          },
          "rest": {
            "type": [
              "array"
            ]
          }
        },
        "authorizer": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "RuleHandler",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "object"
            ]
          }
        },
        "description": {
          "description": "Description is a human readable description of this rule.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "id": {
          "description": "ID is the unique id of the rule. It can be at most 190 characters long, but the layout of the ID is up to you.\nYou will need this ID later on to update or delete the rule.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "match": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "RuleMatch",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "object"
            ]
          }
        },
        "mutators": {
          "description": "Mutators is a list of mutation handlers that transform the HTTP request. A common use case is generating a new set\nof credentials (e.g. JWT) which then will be forwarded to the upstream server.\n\nMutations are performed iteratively from index 0 to n and should all succeed in order for the HTTP request to be forwarded.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "element_type": {
                "name": "RuleHandler",
                "type": "named"
              },
              "type": "array"
            }
          },
          "rest": {
            "type": [
              "array"
            ]
          }
        },
        "upstream": {
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "Upstream",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "object"
            ]
          }
        }
      }
    },
    "RuleHandler": {
      "fields": {
        "config": {
          "description": "Config contains the configuration for the handler. Please read the user\nguide for a complete list of each handler's available settings.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "JSON",
              "type": "named"
            }
          },
          "rest": {
            "type": null
          }
        },
        "handler": {
          "description": "Handler identifies the implementation which will be used to handle this specific request. Please read the user\nguide for a complete list of available handlers.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    "RuleMatch": {
      "fields": {
        "methods": {
          "description": "An array of HTTP methods (e.g. GET, POST, PUT, DELETE, ...). When ORY Oathkeeper searches for rules\nto decide what to do with an incoming request to the proxy server, it compares the HTTP method of the incoming\nrequest with the HTTP methods of each rules. If a match is found, the rule is considered a partial match.\nIf the matchesUrl field is satisfied as well, the rule is considered a full match.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "element_type": {
                "name": "String",
                "type": "named"
              },
              "type": "array"
            }
          },
          "rest": {
            "type": [
              "array"
            ],
            "items": {
              "type": [
                "string"
              ]
            }
          }
        },
        "url": {
          "description": "This field represents the URL pattern this rule matches. When ORY Oathkeeper searches for rules\nto decide what to do with an incoming request to the proxy server, it compares the full request URL\n(e.g. https://mydomain.com/api/resource) without query parameters of the incoming\nrequest with this field. If a match is found, the rule is considered a partial match.\nIf the matchesMethods field is satisfied as well, the rule is considered a full match.\n\nYou can use regular expressions in this field to match more than one url. Regular expressions are encapsulated in\nbrackets \u003c and \u003e. The following example matches all paths of the domain `mydomain.com`: `https://mydomain.com/\u003c.*\u003e`.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    "Upstream": {
      "fields": {
        "preserve_host": {
          "description": "PreserveHost, if false (the default), tells ORY Oathkeeper to set the upstream request's Host header to the\nhostname of the API's upstream's URL. Setting this flag to true instructs ORY Oathkeeper not to do so.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "Boolean",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "boolean"
            ]
          }
        },
        "strip_path": {
          "description": "StripPath if set, replaces the provided path prefix when forwarding the requested URL to the upstream URL.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        },
        "url": {
          "description": "URL is the URL the request will be proxied to.",
          "type": {
            "type": "nullable",
            "underlying_type": {
              "name": "String",
              "type": "named"
            }
          },
          "rest": {
            "type": [
              "string"
            ]
          }
        }
      }
    }
  },
  "procedures": {},
  "scalar_types": {
    "Boolean": {
      "aggregate_functions": {},
      "comparison_operators": {},
      "representation": {
        "type": "boolean"
      }
    },
    "Int64": {
      "aggregate_functions": {},
      "comparison_operators": {},
      "representation": {
        "type": "int64"
      }
    },
    "JSON": {
      "aggregate_functions": {},
      "comparison_operators": {},
      "representation": {
        "type": "json"
      }
    },
    "String": {
      "aggregate_functions": {},
      "comparison_operators": {},
      "representation": {
        "type": "string"
      }
    }
  }
}
